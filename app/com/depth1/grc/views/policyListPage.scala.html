@import com.depth1.grc.model.Policy
@(policies:List[Policy]) 
@main("Policy") {

<script>
	function del(urlToDelete) {
		$.ajax({
			url : urlToDelete,
			type : 'DELETE',
			success : function(results) {
				// Refresh the page
				location.reload();
			}
		});
	}
</script>

<section class="wrapper">
	<h1>Policy</h1>
	<legend> Front Page</legend>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>Policy Name</th>
				<th>Policy ID</th>
				<th>Version</th>
				<th>Last Updated</th>
			</tr>
		</thead>
		<tbody>
			@for(Policy <- policies) {
			<tr>

				<td><a
					href="com.depth1.grc.controllers.routes.Application.viewAllPolicy()">
						@Policy.getName()</a></td>
				<td><a
					href="com.depth1.grc.controllers.routes.Application.viewAllPolicy()">
						@Policy.getPolicyId()</a></td>
				<td><a
					href="com.depth1.grc.controllers.routes.Application.viewAllPolicy()">
						@Policy.getVersion()</a></td>
				<td><a
					href="com.depth1.grc.controllers.routes.Application.viewAllPolicy()">
						@Policy.getLastUpdatedDate()</a></td>		
			</tr>
			}
		</tbody>

	</table>
</section>
<section class=centered>
	<!--the buttons, using just html forms-->
	<FORM ACTION=/policy/create />
	<INPUT TYPE="submit"
		style="position: relative; bottom: 0px; left: -225px; height: 50px; width: 100px;"
		VALUE="Create">
	</FORM>

	<FORM ACTION=/policy/view />
	<INPUT TYPE="submit"
		style="position: relative; bottom: 50px; left: -75px; height: 50px; width: 100px;"
		VALUE="View">
	</FORM>

	<FORM ACTION=/policy/update />
	<INPUT TYPE="submit"
		style="position: relative; bottom: 100px; left: 75px; height: 50px; width: 100px;"
		VALUE="Update">
	</FORM>

	<FORM
		onsubmit="var result = confirm('Do you really want to delete the selected criteria?');if (result) {del('com.depth1.grc.controllers.routes.Application.deletePolicy()')}" />
	<INPUT TYPE="submit"
		style="position: relative; bottom: 150px; left: 225px; height: 50px; width: 100px;"
		VALUE="Delete">
	</FORM>
	}
</section>
<section class=centered>
	<FORM ACTION="/"/>
	<INPUT TYPE="submit"
		style="position: relative; top: 100px; height: 50px; width: 100px;"
		VALUE="Back">
	</FORM>
</section>