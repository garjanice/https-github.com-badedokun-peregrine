@import com.depth1.grc.model.RiskAssessment
@(riskAssessments:List[RiskAssessment]) 
@main("Risk Assessment") {


<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<script>
	@*
	function del(urlToDelete) {
		$.ajax({
			url : urlToDelete,
			type : 'DELETE',
			success : function(results) {
				// Refresh the page
				location.reload();
			}
		});
	}
	*@
	
	var index = 0;
	
	function confirmDelete() {
		var x = confirm("Are you sure you want to delete?");
		if (x)
			return x;
	}
	
	$(function() {
		var rows = $('tr').not(':first');
		
		rows.on('click', function(e) {
			var row = $(this);
			if ((e.ctrlKey || e.metaKey) || e.shiftKey) {
				row.addClass('highlight');
			} else {
				rows.removeClass('highlight');
				row.addClass('highlight');
				
				index = $(row).index(); //table row index
				var obj = {
						"val":String(index)
				}
				
				$.ajax({
					url: "@com.depth1.grc.controllers.routes.Application.setSelectedRA()",
					type: 'POST',
					contentType: 'application/json; charset=utf-8',
					dataType: 'json',
					data: JSON.stringify(obj),
					success: function(res) {
			          if (res) {
			            console.log("Success!");
			          } else {
			            console.log("Failed...");
			          }
			        }
				
				})

			}

		});
		$(document).bind('selectstart dragstart', function(e) {
			e.preventDefault();
			return false;
		});

	});
</script>

<style>
tr { cursor: default; }
.highlight { background: #00CCFF; }
</style>


<!-- header -->
    <header class="header">
        <div class="header-children">
            <h1 class="logo" id="header-logo"><a href="/">Nebrhood</a></h1>
            <nav class="main-nav">
                <ul>
                    <li><a href="#">Dashboard</a>
                    </li>
                    <li><a href="#">Policy</a>
                    </li>
                    <li><a href="#">Enterprise Risk</a>
                    </li>
                    <li><a href="#">Governance</a>
                    </li>
                    <li><a href="#">Compliance</a>
                    </li>
                    <li><a href="#">Navigation Option</a>
                    </li>
                    <li><a href="#">Navigation Option</a>
                    </li>
                </ul>
            </nav>
            <nav class="search-settings">
                <ul>
                    <li>
                        <input type="text" name="search" id="search-bar" placeholder="Search">
                    </li>
                    <li>
                    	<a href="#" id="logout">Logout</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <!--end of header-->

<!-- main -->
 <main id="home-main" class="page-main">
 <section class="wrapper">
   <h1>Risk Assessment</h1>
	<legend> Front Page</legend>
	<table style="text-align:center;" class="table">
		<thead>
			<tr>
				<th>Risk </th>
				<th>Likelihood</th>
				<th>Severity</th>
				<th>Consequence</th>
			</tr>
		</thead>
		<tbody>
			@for(RiskAssessment <- riskAssessments) {
			<tr>
				<td>
					@RiskAssessment.getRisk</td>
				<td>
					@RiskAssessment.getLikelihood</td>
				<td>
					@RiskAssessment.getSeverity</td>
				<td>
					@RiskAssessment.getConsequence</td>
			</tr>
			}
		</tbody>

	</table>

	<!--the buttons, using just html forms-->
	<FORM ACTION=/riskAssessment/create />
	<INPUT TYPE="submit"
		style="position: relative; bottom: 0px; left: -225px; height: 30px; width: 100px;"
		VALUE="Create">
	</FORM>

	<FORM ACTION=/riskAssessment/view />
	<INPUT TYPE="submit"
		style="position: relative; bottom: 30px; left: -75px; height: 30px; width: 100px;"
		VALUE="View">
	</FORM>

	<FORM ACTION=/riskAssessment/update />
	<INPUT TYPE="submit"
		style="position: relative; bottom: 60px; left: 75px; height: 30px; width: 100px;"
		VALUE="Update">
	</FORM>

	<FORM ACTION=/riskAssessment/delete
		onsubmit="return confirmDelete()"/>
	<INPUT TYPE="submit"
		style="position: relative; bottom: 90px; left: 225px; height: 30px; width: 100px;"
		VALUE="Delete">
	</FORM>
	}

	<FORM ACTION="/"/>
	<INPUT TYPE="submit"
		style="position:relative; bottom: 50px; height: 30px; width: 100px;"
		VALUE="Back">
	</FORM>
</section>
   </main>
   <!-- end of main -->
   
   
    <!-- footer -->
    <footer>
        <div id="footer">
            <div class="wrapper">
                <ul id="nav-legal">
                    <li>
                        <span>Risk Management © 2015</span>
                    </li>
                    <li>
                        <a href="">User Agreement</a>
                    </li>
                    <li>
                        <a href="">Community Guidelines</a>
                    </li>
                    <li>
                        <a href="">Privacy Policy</a>
                    </li>
                    <li>
                        <a href="">Cookie Policy</a>
                    </li>
                    <li>
                        <a href="">Copyright Policy</a>
                    </li>
                </ul>
            </div>
        </div>
    </footer>
    <!-- end of footer -->